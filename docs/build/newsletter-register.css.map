{
  "version": 3,
  "file": "newsletter-register.css",
  "sources": [
    "AppNewsletterRegister.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import axios from 'axios'; \n  import getScreenPosition from './get-screen-position.js'; \n  axios.defaults.headers.common['Accept'] = 'application/json';\n  axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n  axios.defaults.headers.common['Content-Type'] = 'application/json';\n  export let title;\n  export let url;\n  let errorMsg = '';\n  let successMsg = '';\n  let infoMsg = ''; \n  let email = '';\n  let who = ''; // bot prevention: ignore if filled in \n\n  let screenPosition = getScreenPosition();\n\n  function setMessage(msg, msgType, timeout = 5000) {\n    if (msgType === 'error') {\n      errorMsg = msg; \n    } else if (msgType === 'success') {\n      successMsg = msg; \n    } else { \n      infoMsg = msg; \n    } \n    setTimeout(() => {\n      errorMsg = '';\n      infoMsg = '';\n      successMsg = '';\n    }, timeout);\n  }\n\n  function validateEmail(s) {\n    if (!s) return false; \n    return s.match(/^.*?@.*?\\..*?/);\n  }\n\n  function register() {\n    //return setError('Look Ma, an error message ...');\n    if (!validateEmail(email)) {\n      return setMessage('Dies ist keine gültige E-Mail-Adresse', 'error'); \n    }\n    if (who) {\n      // this field cqn only be seen by a bot\n      return setMessage('Das ist nicht Dein Ernst', 'error'); \n    }\n    axios.post(url, {\n      'email_address': email,\n      'status':'pending',\n      'merge_fields': {\n        'SIGNUP_POS': screenPosition, \n        'SIGNUP_URL': window.location.href\n      },\n      'interests':{},\n      'language':'de',\n      'vip':false,\n      'location':{'latitude':0,'longitude':0},\n      'marketing_permissions':[],\n      'ip_signup':'',\n      'timestamp_signup':'',\n      'ip_opt':'',\n      'timestamp_opt':'',\n      'tags':['Newsbanner']\n    }).then((result) => {\n      console.log('result.data', result.data); \n\n      if (result.data.name === 'Error') {\n        const error = 'Ihre Adresse ist bereits registriert';;\n        setMessage(error, 'error'); \n      } else {\n        return setMessage('Bitte schauen Sie in Ihrem Postfach nach, um Ihre Registrierung zu bestätigen', 'susccess', 100000);\n      } \n      console.log(result);\n    }).catch((err) => {\n      console.error(err);\n    });    \n  }\n</script>\n\n<div class=\"newsletter-register\">\n  <div class=\"send-off-icon\"></div> \n  <h2>{title}</h2>\n  <p>\n    Jetzt abonnieren und Informationen zu Zinsen, Trends und Angeboten \n    erhalten! Bitte beachten Sie hierzu auch\n    <a href=\"/datenschutz\">unsere Datenschutz&shy;bestimmungen</a>.\n  </p>\n  <form>\n    <input bind:value=\"{email}\" type=\"text\" \n      placeholder=\"E-Mail-Adresse eintragen ...\"/>\n        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->\n      <div style=\"position: absolute; left: -5000px;\" aria-hidden=\"true\">\n        <input type=\"text\" name=\"who\" tabindex=\"-1\" bind:value=\"{who}\">\n      </div>\n    <div class=\"message\">\n      <span class=\"error-message\">{errorMsg}</span> \n      <span class=\"success-message\">{successMsg}</span> \n      <span class=\"info-message\">{infoMsg}</span> \n    </div>\n    {#if !successMsg }\n      <button type=\"submit\" on:click|preventDefault=\"{register}\">\n        Jetzt anmelden\n      </button>\n    {/if}\n  </form>\n</div>\n\n<style lang=\"scss\">.newsletter-register {\n  height: 100%;\n  width: 100%;\n  background-color: #f3f3f3;\n  padding: 20px; }\n\n.newsletter-register, .newsletter-register * {\n  box-sizing: border-box;\n  margin: 0;\n  border: 0; }\n\nh2, p, input {\n  font-family: Roboto, arial, helvetica, sans-serif; }\n\nh2, p, form {\n  text-align: center; }\n\na {\n  color: #333; }\n\ninput[type=text], button[type=submit] {\n  width: 100%;\n  max-width: 350px;\n  margin: 15px auto;\n  outline: none;\n  display: block;\n  height: 34px;\n  line-height: 28px;\n  font-size: 14.5px;\n  border-radius: 5px; }\n\ninput[type=text] {\n  border: 0;\n  padding-left: 4px;\n  border-left: 10px solid white;\n  background-color: white; }\n\ninput[type=text]::placeholder {\n  display: block;\n  padding-left: 10px;\n  letter-spacing: 0.025em; }\n\nbutton[type=submit] {\n  text-transform: uppercase;\n  border: 1px solid #1194db;\n  color: #1194db; }\n\nbutton[type=submit]:hover {\n  color: white;\n  background-color: #1194db; }\n\n.error-message, .error-message, .success-message {\n  font-size: 14.5px; }\n\n.error-message {\n  color: #990000; }\n\n.info-message {\n  color: #1194db; }\n\n.success-message {\n  color: #009900; }\n\nh2 {\n  letter-spacing: 0.025em;\n  color: #333;\n  font-size: 16px;\n  font-weight: 500;\n  margin: 5px; }\n\np {\n  letter-spacing: 0.025em;\n  display: block;\n  margin: 10px auto;\n  max-width: 800px;\n  color: #333;\n  font-size: 14.5px;\n  line-height: 1.4em; }\n\nform {\n  text-align: center; }\n\n.send-off-icon {\n  margin-right: auto;\n  margin-left: auto;\n  background-repeat: no-repeat;\n  width: 80px;\n  height: 80px;\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg viewBox='135.102 89.766 262.364 225.388' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M 135.441 89.766 L 397.466 202.409 L 135.228 315.154 L 135.102 227.114 L 313.489 202.326 L 135.357 177.516 L 135.441 89.766 Z M 160.504 155.521 L 251.137 168.144 L 160.715 130.591 L 160.504 155.521 Z M 162.11 273.868 L 252.532 236.315 L 161.899 248.938 L 162.11 273.868 Z' style='fill: %23333333;'/%3E%3C/svg%3E\"); }\n</style>\n"
  ],
  "names": [],
  "mappings": "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"
}